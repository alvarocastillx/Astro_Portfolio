---
 //Projects.astro
import Github from "./Icons/Github.astro";

const CARDS = [
    {
        project_name:"Portfolio",
        project_description:"Portfolio creado en Astro",
        link:"",
        image:"url(.//public/Portfolio.jpg);"
    },
    {
        project_name:"CarAction",
        project_description:"CarAction es una aplicación para sistemas operativos Android creada en el framework Jetpack Compose. Creada...",
        link:"",
        image:"url(.//public/proyectoMockup.png);"
    },
    {
        project_name:"CarAction",
        project_description:"CarAction es una aplicación para sistemas operativos Android creada en el framework Jetpack Compose. Creada...",
        link:"",
        image:"url(.//public/LOGO.png);"
    }
]
---

<div class="flex flex-col justify-center items-start mx-auto w-[1250px]" id="projects">
    <section class="pb-6 flex flex-row items-center">
        <h2 class="font-bold text-5xl text-pretty mr-5">
            Proyectos
        </h2>
        <Github/>
    </section>
    <section class="flex flex-row flex-auto w-[1146px]">
        {
            CARDS.map(card => {
                return (
                    <a href={card.link}>
                        <div class="card" style={{backgroundImage : card.image}}>
                            <div id="card_content" >
                                <div class="flex flex-col mx-auto">
                                    <h2 class="text-3xl">{card.project_name}</h2>
                                    <p class="text-pretty">
                                    {card.project_description}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </a>
                )
            })
        }
    </section>
</div>


<style>
    #projects {
        padding-bottom: 4rem;
    }
</style>



<style>
    .card {
    margin-right: 1em;
    width: 25em;
    height: 13em;
    border-radius: 20px;
    padding: 5px;
    box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
    overflow: hidden;
    background-repeat: no-repeat;
        background-position: center center;
        background-size: cover;
}

    #card_content {
    background: rgb(5, 6, 45);
    border-radius: 17px;
    width: 100%;
    height: 100%;
    padding: 10%;
    }

    @keyframes anim_card {
        from {
            transform: translateX(-20%);
            opacity:0;
        }
        to {
            transform: translateX(0%);
            opacity: 1;
        }
    }

    .card_animation {
        animation-name: anim_card;
        animation-duration: 1s;
        animation-timing-function: linear;
    }

    #card_content:hover {
        opacity: 0.15;
        
    }
    
    
</style>

<script>
    const cards = document.querySelectorAll('.card');
    const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            cards.forEach(card => {
                card.classList.add('card_animation')
            })
        
           
        }
    })
});
cards.forEach(card => {
    observer.observe(card);
            })

</script>